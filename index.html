<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ashoka Focus‚Ñ¢ | Founder Edition</title>
    <style>
        :root { 
            --bg-color: #020617; 
            --neon-green: #10b981; 
            --premium-gold: #fbbf24;
            --glass: rgba(15, 23, 42, 0.6);
        }
        body { 
            background-color: var(--bg-color); 
            color: #f8fafc; 
            font-family: 'Inter', -apple-system, sans-serif; 
            margin: 0; height: 100vh; 
            display: flex; flex-direction: column; align-items: center; 
            overflow: hidden;
            background: radial-gradient(circle at top right, #0f172a, #020617);
        }
        
        /* The Ambient Glow */
        .glow {
            position: absolute; width: 300px; height: 300px;
            background: var(--neon-green); filter: blur(150px);
            opacity: 0.1; z-index: -1; top: 20%;
        }

        header { 
            width: 100%; padding: 30px; display: flex; 
            justify-content: space-between; align-items: center; box-sizing: border-box; 
        }

        .brand { display: flex; align-items: center; gap: 15px; cursor: pointer; transition: 0.3s; }
        .brand img { height: 55px; filter: drop-shadow(0 0 15px rgba(16,185,129,0.4)); }
        .brand-text h1 { margin: 0; font-size: 1.2rem; letter-spacing: 2px; font-weight: 300; }
        .brand-text span { color: var(--neon-green); font-weight: 700; }
        .publisher { font-size: 0.6rem; opacity: 0.5; text-transform: uppercase; letter-spacing: 1px; }

        .main-stage { 
            flex-grow: 1; display: flex; flex-direction: column; 
            justify-content: center; align-items: center; gap: 40px;
        }

        /* The 3M Visualizer */
        .orb-container {
            position: relative; width: 220px; height: 220px;
            display: flex; justify-content: center; align-items: center;
        }
        .orb-outer {
            position: absolute; width: 100%; height: 100%;
            border: 1px solid rgba(16, 185, 129, 0.1); border-radius: 50%;
            transition: 1s ease;
        }
        .active-pulse .orb-outer {
            animation: breathe 8s infinite ease-in-out;
            border-color: var(--neon-green);
            box-shadow: 0 0 50px rgba(16, 185, 129, 0.1);
        }

        @keyframes breathe {
            0%, 100% { transform: scale(1); opacity: 0.1; }
            50% { transform: scale(1.4); opacity: 0.4; }
        }

        .timer { font-size: 3rem; font-weight: 100; letter-spacing: 4px; color: #f8fafc; }

        .control-panel {
            width: 90%; max-width: 400px; 
            background: var(--glass); backdrop-filter: blur(20px);
            border-radius: 30px; border: 1px solid rgba(255,255,255,0.05);
            padding: 30px; margin-bottom: 40px;
            box-shadow: 0 25px 50px -12px rgba(0,0,0,0.5);
        }

        .mode-selector { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 25px; }
        .mode-btn {
            background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.05);
            color: #94a3b8; padding: 15px; border-radius: 16px; font-size: 0.8rem;
            cursor: pointer; transition: 0.4s;
        }
        .mode-btn.active { 
            background: rgba(16, 185, 129, 0.1); border-color: var(--neon-green); color: var(--neon-green);
        }

        .play-trigger {
            width: 100%; padding: 20px; border-radius: 20px; border: none;
            background: linear-gradient(135deg, #10b981, #059669);
            color: #020617; font-weight: 700; font-size: 1rem; cursor: pointer;
            box-shadow: 0 10px 20px rgba(16, 185, 129, 0.3); transition: 0.3s;
        }
        .play-trigger:active { transform: scale(0.98); }
        
        /* Founder Login Box */
        .overlay { position: fixed; inset: 0; background: rgba(2,6,23,0.95); z-index: 2000; display: flex; align-items: center; justify-content: center; backdrop-filter: blur(10px); }
        .login-card { background: #0f172a; padding: 40px; border-radius: 24px; text-align: center; border: 1px solid #1e293b; width: 280px; }
        input { width: 100%; background: #020617; border: 1px solid #334155; padding: 12px; border-radius: 8px; color: white; margin: 20px 0; text-align: center; font-size: 1.2rem; }
        
        .hidden { display: none; }
    </style>
</head>
<body>
    <div class="glow"></div>
    
    <div id="adminPortal" class="overlay hidden">
        <div class="login-card">
            <h3>Founder Access</h3>
            <input type="password" id="pin" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
            <button onclick="checkPin()" class="play-trigger">Verify Identity</button>
            <p onclick="toggleAdmin()" style="margin-top:20px; font-size:0.8rem; opacity:0.5; cursor:pointer;">Cancel</p>
        </div>
    </div>

    <header>
        <div class="brand" onclick="countLogo()">
            <img src="assets/logo.png" alt="Ashoka Music Lab">
            <div class="brand-text">
                <h1>ASHOKA<span>FOCUS‚Ñ¢</span></h1>
                <div class="publisher">Laboratory Edition</div>
            </div>
        </div>
        <div id="status" style="font-size:0.6rem; letter-spacing:1px; opacity:0.6; border:1px solid rgba(255,255,255,0.2); padding:4px 10px; border-radius:20px;">STANDARD</div>
    </header>

    <div class="main-stage">
        <div class="orb-container" id="orbBox">
            <div class="orb-outer"></div>
            <div class="timer" id="clock">00:00</div>
        </div>
        <div style="text-align: center;">
            <div style="font-size: 0.8rem; opacity: 0.4; letter-spacing: 2px;">ACOUSTIC FLOW STATE</div>
            <div id="modeName" style="color: var(--neon-green); font-size: 0.7rem; margin-top: 5px;">NATURE TEXTURE ACTIVE</div>
        </div>
    </div>

    <div class="control-panel">
        <div class="mode-selector">
            <button class="mode-btn active" onclick="setMode('nature')">üçÉ Nature</button>
            <button class="mode-btn" onclick="setMode('math')">üìê 40Hz Math</button>
            <button id="p1" class="mode-btn" style="opacity:0.2" onclick="locked()">‚ú® Elite 1</button>
            <button id="p2" class="mode-btn" style="opacity:0.2" onclick="locked()">‚ö° Elite 2</button>
        </div>
        <button class="play-trigger" id="masterBtn" onclick="handleAction()">INITIALIZE SESSION</button>
    </div>

    <script>
        let ctx, isLive = false, mode = 'nature', items = [], masterGain, clicks = 0;

        function countLogo() { clicks++; if(clicks >= 5) toggleAdmin(); }
        function toggleAdmin() { document.getElementById('adminPortal').classList.toggle('hidden'); clicks=0; }
        function locked() { alert("Elite Access Required for Dr. Reddy's Lab Protocols."); }

        function checkPin() {
            if(document.getElementById('pin').value === '1947') {
                document.getElementById('status').innerText = 'ELITE FOUNDER';
                document.getElementById('status').style.color = '#fbbf24';
                document.getElementById('p1').style.opacity = '1'; document.getElementById('p1').onclick = () => setMode('elite1');
                document.getElementById('p2').style.opacity = '1'; document.getElementById('p2').onclick = () => setMode('elite2');
                toggleAdmin();
            }
        }

        function setupAudio() {
            if (!ctx) {
                ctx = new (window.AudioContext || window.webkitAudioContext)();
                masterGain = ctx.createGain();
                masterGain.connect(ctx.destination);
            }
        }

        function generateBrownNoise() {
            const buffer = ctx.createBuffer(1, ctx.sampleRate * 2, ctx.sampleRate);
            const data = buffer.getChannelData(0);
            let lastOut = 0;
            for (let i = 0; i < buffer.length; i++) {
                const white = Math.random() * 2 - 1;
                data[i] = (lastOut + (0.02 * white)) / 1.02;
                lastOut = data[i]; data[i] *= 3.5;
            }
            const src = ctx.createBufferSource(); src.buffer = buffer; src.loop = true;
            const filter = ctx.createBiquadFilter(); filter.type = 'lowpass'; filter.frequency.value = 450;
            src.connect(filter); return { src, out: filter };
        }

        function playTone(f, v) {
            const o = ctx.createOscillator(); o.frequency.value = f;
            const g = ctx.createGain(); g.gain.value = v;
            o.connect(g); g.connect(masterGain); o.start(); items.push(o);
        }

        function handleAction() {
            setupAudio();
            const btn = document.getElementById('masterBtn');
            const orb = document.getElementById('orbBox');
            
            if (!isLive) {
                if (ctx.state === 'suspended') ctx.resume();
                masterGain.gain.setValueAtTime(0, ctx.currentTime);
                masterGain.gain.linearRampToValueAtTime(0.4, ctx.currentTime + 2);
                
                if(mode === 'nature') { const n = generateBrownNoise(); n.out.connect(masterGain); n.src.start(); items.push(n.src); }
                if(mode === 'math') { playTone(40, 0.04); playTone(120, 0.01); }
                if(mode === 'elite1') { playTone(528, 0.04); }
                if(mode === 'elite2') { playTone(100, 0.03); playTone(40, 0.04); }

                btn.innerText = "END SESSION"; isLive = true;
                orb.classList.add('active-pulse'); startTimer();
            } else {
                masterGain.gain.linearRampToValueAtTime(0, ctx.currentTime + 1);
                setTimeout(() => { items.forEach(i => i.stop()); items = []; isLive = false; 
                btn.innerText = "INITIALIZE SESSION"; orb.classList.remove('active-pulse'); stopTimer(); }, 1000);
            }
        }

        let seconds = 0, timerId;
        function startTimer() { timerId = setInterval(() => { seconds++; document.getElementById('clock').innerText = new Date(seconds * 1000).toISOString().substr(14, 5); }, 1000); }
        function stopTimer() { clearInterval(timerId); seconds = 0; document.getElementById('clock').innerText = "00:00"; }
        function setMode(m) { if(isLive) handleAction(); mode = m; document.querySelectorAll('.mode-btn').forEach(b => b.classList.remove('active')); event.currentTarget.classList.add('active'); }
    </script>
</body>
</html>
