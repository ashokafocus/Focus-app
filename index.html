<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ashoka Focusâ„¢ | The 9 Jewels</title>
    <style>
        :root { --gold: #FFD700; --cyan: #00ffff; --violet: #8a2be2; --void: #000205; }
        body { background: var(--void); color: white; margin: 0; overflow: hidden; height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; font-family: 'Segoe UI', sans-serif; }
        
        /* The Master Bindu Visual */
        #canvas3D { position: absolute; top: 0; left: 0; z-index: -1; filter: blur(2px); }
        
        .bindu-center {
            width: 100px; height: 100px; border-radius: 50%;
            background: radial-gradient(circle, #fff 0%, transparent 70%);
            box-shadow: 0 0 50px rgba(255,255,255,0.1);
            margin-bottom: 40px; transition: 3s ease;
        }

        /* The Jewel Grid */
        .grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; text-align: center; z-index: 10; }
        .jewel {
            font-size: 0.7rem; letter-spacing: 3px; opacity: 0.4; cursor: pointer;
            padding: 15px; border: 1px solid rgba(255,255,255,0.1); transition: 0.4s;
        }
        .jewel:hover { opacity: 1; border-color: var(--gold); color: var(--gold); background: rgba(255, 215, 0, 0.05); }
        .premium { color: var(--gold); border-color: rgba(255, 215, 0, 0.2); }
        
        .active-jewel { opacity: 1; border-color: var(--gold); box-shadow: 0 0 20px rgba(255, 215, 0, 0.2); }
        #label { margin-top: 30px; font-size: 0.6rem; letter-spacing: 5px; opacity: 0.5; color: var(--gold); }
    </style>
</head>
<body>

    <canvas id="canvas3D"></canvas>
    <div class="bindu-center" id="mainBindu"></div>
    
    <div class="grid">
        <div class="jewel" onclick="activate(1)">PRITHVI</div>
        <div class="jewel" onclick="activate(2)">JALA</div>
        <div class="jewel" onclick="activate(3)">AGNI</div>
        <div class="jewel" onclick="activate(4)">VAYU</div>
        <div class="jewel" onclick="activate(5)">AKASHA</div>
        <div class="jewel premium" onclick="activate(6)">SCHOLAR</div>
        <div class="jewel premium" onclick="activate(7)">HEALER</div>
        <div class="jewel premium" onclick="activate(8)">NIDRA</div>
        <div class="jewel premium" onclick="activate(9)">PHILOSOPHER</div>
    </div>

    <div id="label">ASCEND TO FOCUS</div>

    <script>
        let audioCtx, master, currentOscs = [];

        function initAudio() {
            if (!audioCtx) {
                audioCtx = new (window.AudioContext || window.webkitAudioContext)();
                master = audioCtx.createGain();
                const limiter = audioCtx.createDynamicsCompressor(); // THE SMOOTHIE SECRET
                limiter.threshold.setValueAtTime(-20, audioCtx.currentTime);
                master.connect(limiter);
                limiter.connect(audioCtx.destination);
            }
        }

        function stopAll() {
            currentOscs.forEach(o => { try { o.stop(); } catch(e) {} });
            currentOscs = [];
            if(master) master.gain.setTargetAtTime(0, audioCtx.currentTime, 0.5);
        }

        function activate(id) {
            initAudio();
            stopAll();
            const label = document.getElementById('label');
            master.gain.setTargetAtTime(0.3, audioCtx.currentTime, 2);

            // MASTER LOGIC FOR ALL 9 JEWELS
            if (id === 7) { // THE HEALER (Waterfall Mist)
                label.innerText = "HEALER: HIMALAYAN MIST";
                spawnWaterlets();
            } else if (id === 8) { // ELITE NIDRA (Astral Swing)
                label.innerText = "NIDRA: VELVET SURRENDER";
                playSwing(70, 71.5, 0.05); // 1.5Hz Delta
            } else if (id === 9) { // PHILOSOPHER (Vortex)
                label.innerText = "PHILOSOPHER: SUMERU VORTEX";
                playVortex(111);
            } else {
                label.innerText = "ELEMENTAL ASCENSION";
                playBasic(100 + (id*50));
            }
        }

        // --- THE ELITE ENGINES ---

        function playVortex(freq) {
            const osc = audioCtx.createOscillator();
            const panner = audioCtx.createStereoPanner();
            const filter = audioCtx.createBiquadFilter();
            
            osc.frequency.value = freq;
            filter.type = 'lowpass';
            
            // Stereotypic Motion
            const lfo = audioCtx.createOscillator();
            lfo.frequency.value = 0.05;
            const lfoG = audioCtx.createGain();
            lfo.connect(lfoG); lfoG.connect(panner.pan);
            
            osc.connect(filter); filter.connect(panner); panner.connect(master);
            osc.start(); lfo.start();
            currentOscs.push(osc, lfo);
        }

        function playSwing(f1, f2, rate) {
            const oscL = audioCtx.createOscillator();
            const oscR = audioCtx.createOscillator();
            const pL = audioCtx.createStereoPanner();
            const pR = audioCtx.createStereoPanner();
            
            oscL.frequency.value = f1; oscR.frequency.value = f2;
            pL.pan.value = -1; pR.pan.value = 1;
            
            const swingLFO = audioCtx.createOscillator();
            swingLFO.frequency.value = rate;
            const swingG = audioCtx.createGain();
            swingLFO.connect(swingG); swingG.connect(master.gain);

            oscL.connect(pL); oscR.connect(pR);
            pL.connect(master); pR.connect(master);
            oscL.start(); oscR.start(); swingLFO.start();
            currentOscs.push(oscL, oscR, swingLFO);
        }

        function spawnWaterlets() {
            const noise = audioCtx.createBufferSource();
            const b = audioCtx.createBuffer(1, audioCtx.sampleRate * 2, audioCtx.sampleRate);
            const d = b.getChannelData(0);
            for (let i=0; i<b.length; i++) d[i] = Math.random() * 2 - 1;
            noise.buffer = b; noise.loop = true;
            const f = audioCtx.createBiquadFilter();
            f.type = 'highpass'; f.frequency.value = 5000;
            noise.connect(f); f.connect(master);
            noise.start();
            currentOscs.push(noise);
        }

        function playBasic(f) {
            const o = audioCtx.createOscillator();
            o.frequency.value = f;
            o.connect(master);
            o.start();
            currentOscs.push(o);
        }
    </script>
</body>
</html>
